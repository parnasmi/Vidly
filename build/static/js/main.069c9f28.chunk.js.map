{"version":3,"sources":["services/logService.js","services/httpService.js","services/movieService.js","components/common/like.jsx","components/common/tableHeader.jsx","components/common/tableBody.jsx","components/common/table.jsx","components/moviesTable.jsx","components/common/pagination.jsx","services/genreService.js","components/common/listGroup.jsx","components/common/searchBox.jsx","components/movies.jsx","utils/paginate.jsx","components/customers.jsx","components/rentals.jsx","components/navbar.jsx","components/404.jsx","components/common/input.jsx","components/common/select.jsx","components/common/forms.jsx","components/loginForm.jsx","components/registerForm.jsx","components/movieForm.jsx","App.js","serviceWorker.js","index.js"],"names":["logService","init","log","error","console","axios","defaults","baseURL","process","interceptors","response","use","status","logger","toast","Promise","reject","httpService","get","put","post","delete","apiEndpoint","movieUrl","id","concat","getMovie","_x","_getMovie","apply","this","arguments","_callee","movieId","regenerator_default","a","wrap","_context","prev","next","abrupt","http","stop","saveMovie","_x2","_saveMovie","_callee2","movie","body","_context2","_id","Object","objectSpread","Like","props","classes","isLiked","react_default","createElement","className","style","cursor","aria-hidden","onClick","TableHeader","raiseSort","path","sortColumn","_this","order","onSort","renderSortIcon","column","_this2","columns","map","key","label","Component","TableBody","renderCell","item","content","_","createKey","_this$props","data","Table","_ref","tableHeader","tableBody","MoviesTable","react_router_dom","to","title","like","onLike","onDelete","movies","table","Pagination","itemsCount","pageSize","currentPage","onPageChange","pageCount","Math","ceil","pages","range","page","getGenres","_getGenres","ListGroup","items","onItemSelect","selectedItem","valueProperty","textProperty","defaultProps","SearchBox","value","onSearchChange","type","name","placeholder","onChange","e","currentTarget","Movies","state","genres","searchQuery","selectedGenre","handleRemove","originalMovies","filter","setState","t0","handleLike","toConsumableArray","index","indexOf","handlePageChange","handleGenresSelect","genre","handleSort","handleSearch","query","getPagedMovies","_this$state","allMovies","filtered","m","toLowerCase","includes","pageNumber","startIndex","slice","take","paginate","orderBy","totalCount","length","_this$state2","_this$getPagedMovies","listGroup","searchBox","moviesTable","pagination","Customers","Rentals","NavBar","data-toggle","data-target","aria-controls","aria-expanded","aria-label","NotFound","Input","rest","objectWithoutProperties","htmlFor","assign","Select","options","option","Form","errors","validate","Joi","schema","abortEarly","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","details","Symbol","iterator","done","message","err","return","validateProperty","obj","defineProperty","handleSubmit","preventDefault","doSubmit","handleChange","_ref2","input","errorMessage","disabled","common_input","common_select","LoginForm","username","password","string","required","onSubmit","renderInput","renderButton","RegisterForm","email","min","MovieForm","genreId","numberInStock","dailyRentalRate","number","max","history","push","match","params","mapToViewModel","_context3","replace","populateGenres","populateMovie","renderSelect","App","Fragment","react_toastify","navbar","react_router","component","from","exact","Boolean","window","location","hostname","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.069c9f28.chunk.js","sourcesContent":["// import Raven from \"raven-js\";\n\nfunction init() {}\n\nfunction log(error) {\n  console.error(error);\n}\n\nexport default {\n  init,\n  log\n};\n","import axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport logger from \"./logService\";\n\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\n\naxios.interceptors.response.use(null, error => {\n  const expectedError =\n    error.response &&\n    error.response.status >= 400 &&\n    error.response.status < 500;\n\n  if (!expectedError) {\n    logger.log(error);\n    toast.error(\"Unexpected error occured\");\n  }\n\n  return Promise.reject(error);\n});\n\nexport default {\n  get: axios.get,\n  put: axios.put,\n  post: axios.post,\n  delete: axios.delete\n};\n","import http from \"./httpService\";\nconst apiEndpoint = \"/movies\";\n\nfunction movieUrl(id) {\n  return `${apiEndpoint}/${id}`;\n}\n\nexport function getMovies() {\n  return http.get(apiEndpoint);\n}\n\nexport function deleteMovie(movieId) {\n  return http.delete(movieUrl(movieId));\n}\n\nexport async function getMovie(movieId) {\n  return http.get(movieUrl(movieId));\n}\n\nexport async function saveMovie(movie) {\n  if (movie._id) {\n    const body = { ...movie };\n    delete body._id;\n    return http.put(movieUrl(movie._id), body);\n  }\n\n  return http.post(apiEndpoint, movie);\n}\n","import React from 'react';\n\nconst Like = (props) => {\n\tlet classes = \"fa fa-heart\";\n\tclasses += props.isLiked ? '' : '-o';\n\treturn (\n\t\t<i\n\t\t\tclassName={classes}\n\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\taria-hidden=\"true\"\n\t\t\tonClick={props.onClick}\n\t\t/>\n\t);\n}\n \nexport default Like;","import React, { Component } from 'react';\n\n\n\nclass TableHeader extends Component {\n\t\n\traiseSort = (path) => {\n\t\tconst sortColumn = {...this.props.sortColumn}\n\t\tif(sortColumn.path === path)\n\t\t\tsortColumn.order = sortColumn.order === 'asc' ? 'desc' : 'asc'\n\t\telse {\n\t\t\tsortColumn.path = path;\n\t\t\tsortColumn.order = 'asc';\n\t\t}\n\n\t\tthis.props.onSort(sortColumn);\n\t}\n\t\n\trenderSortIcon = (column) => {\n\t\tconst {sortColumn} = this.props;\n\t\t\n\t\tif(column.path !== sortColumn.path) return null;\n\t\tif (sortColumn.order === 'asc') return <i className=\"fa fa-sort-asc ml-2\" aria-hidden=\"true\" />;\n\t\treturn <i className=\"fa fa-sort-desc ml-2\" aria-hidden=\"true\" />;\n\t}\n\t\n\trender() { \n\t\treturn ( \n\t\t\t<thead>\n\t\t\t\t<tr className=\"clickable\">\n\t\t\t\t\t{this.props.columns.map((column) => (\n\t\t\t\t\t\t<th key={column.path || column.key} \n\t\t\t\t\t\t\t\tonClick={() => this.raiseSort(column.path)}>\n\t\t\t\t\t\t\t\t{column.label}{this.renderSortIcon(column)}\n\t\t\t\t\t\t</th>\n\t\t\t\t\t))}\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t);\n\t}\n}\n \nexport default TableHeader;","import React, { Component } from 'react';\nimport _ from 'lodash';\n\n\nclass TableBody extends Component {\n\trenderCell = (item, column) => {\n\t\t\n\t\tif(column.content)\n\t\t\treturn column.content(item)\n\t\treturn _.get(item, column.path);\n\t}\n\t\n\tcreateKey = (item, column) => {\n\t\treturn item._id + (column.path || column.key)\n\t}\n\trender() { \n\t\tconst { data, columns } = this.props;\n\t\treturn (\n      <tbody>\n        {data.map(item => (\n          <tr key={item._id}>\n            {columns.map(column => (\n              <td key={this.createKey(item, column)}>{this.renderCell(item, column)}</td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n\t}\n}\n \nexport default TableBody;","import React from 'react';\nimport TableHeader from \"./tableHeader\";\nimport TableBody from \"./tableBody\";\n\nconst Table = ({ columns, onSort, sortColumn, data }) => {\n\treturn ( \n\t\t<table className=\"table\">\n\t\t\t\t<TableHeader\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\tonSort={onSort}\n\t\t\t\t\t\tsortColumn={sortColumn}\n\t\t\t\t/>\n\t\t\t\t<TableBody data={data} columns={columns} />\n\t\t</table>\n\t );\n}\n \nexport default Table;","import React, { Component } from \"react\";\nimport Like from \"./common/like\";\nimport PropTypes from \"prop-types\";\nimport Table from \"./common/table\";\nimport { Link } from \"react-router-dom\";\n\nclass MoviesTable extends Component {\n  columns = [\n    { path: \"title\", label: \"Title\", content: movie => <Link to={`/movie/${movie._id}`}>{movie.title}</Link> },\n    { path: \"genre.name\", label: \"Genre\" },\n    { path: \"numberInStock\", label: \"Stock\" },\n    { path: \"dailyRentalRate\", label: \"Rate\" },\n    {\n      key: \"Like\",\n      content: movie => <Like isLiked={movie.like} onClick={() => this.props.onLike(movie)} />\n    },\n    {\n      key: \"delete\",\n      content: movie => (\n        <button\n          className=\"btn btn-danger\"\n          onClick={() => {\n            this.props.onDelete(movie._id);\n          }}\n        >\n          Delete\n        </button>\n      )\n    }\n  ];\n  render() {\n    const { movies, onSort, sortColumn } = this.props;\n    return (\n      <Table data={movies} onSort={onSort} sortColumn={sortColumn} columns={this.columns}/>\n    );\n  }\n}\n\nMoviesTable.propTypes = {\n  movies: PropTypes.array.isRequired,\n  onLike: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired\n};\n\nexport default MoviesTable;\n","import React from 'react';\nimport _ from 'lodash';\nimport PropTypes from \"prop-types\";\n\nconst Pagination = (props) => {\n\tconst {itemsCount, pageSize, currentPage, onPageChange} = props;\n\tconst pageCount = Math.ceil(itemsCount / pageSize);\n\tconst pages = _.range(1, pageCount + 1);\n\t\n\tif (pageCount === 1) return null;\n    return (\n      <nav>\n        <ul className=\"pagination\">\n          {pages.map(page => (\n\t\t\t\t\t\t<li key={page}\n\t\t\t\t\t\t\tclassName={(currentPage === page) ? \"page-item active\" : \"page-item\"}\n\t\t\t\t\t\t\t\tonClick={() => onPageChange(page)}>\n              <button className=\"page-link\">\n                {page}\n              </button>\n            </li>\n          ))}\n        </ul>\n      </nav>\n    );\n}\n\nPagination.propTypes = {\n\titemsCount: PropTypes.number.isRequired,\n\tpageSize: PropTypes.number.isRequired,\n\tcurrentPage: PropTypes.number.isRequired,\n\tonPageChange: PropTypes.func.isRequired\n}\n \nexport default Pagination;","import http from \"./httpService\";\n\nexport async function getGenres() {\n  return http.get(\"/genres\");\n}\n","import React from 'react';\n\n\nconst ListGroup = (props) => {\n\tconst { items, onItemSelect,selectedItem, valueProperty, textProperty} = props;\n\t\n\treturn (\n\t\t<ul className=\"list-group\">\n\t\t\t{\n\t\t\t\titems.map(item => (\n\t\t\t\t\t<li key={item[valueProperty]} \n\t\t\t\t\t\tclassName={item === selectedItem ? \"list-group-item active\" : \"list-group-item\"} \n\t\t\t\t\t\t\tonClick={() => onItemSelect(item)}\n\t\t\t\t\t\t\tstyle={{cursor: 'pointer'}}>{ item[textProperty] }\n\t\t\t\t\t</li>\n\t\t\t\t))\n\t\t\t}\n\t\t\t\n\t\t</ul>\n\t);\n}\n\nListGroup.defaultProps = {\n\ttextProperty: 'name',\n\tvalueProperty: '_id'\n};\n\n\nexport default ListGroup;","import React from 'react';\n\nconst SearchBox = ({value, onSearchChange}) => {\n\treturn ( \n\t\t<input type=\"search\" \n\t\t\t\t\t\tname=\"query\"\n\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\tclassName=\"form-control my-3\"\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tonChange={e => onSearchChange(e.currentTarget.value)} \n\t\t/>\n\t);\n}\n \nexport default SearchBox;","import React, { Component } from 'react';\n// import { getMovies, deleteMovie } from '../services/fakeMovieService'\nimport { getMovies, deleteMovie } from \"../services/movieService\";\nimport MoviesTable from './moviesTable';\nimport Pagination from './common/pagination';\nimport { paginate } from '../utils/paginate';\n// import {getGenres} from '../services/fakeGenreService';\nimport { getGenres } from '../services/genreService';\nimport ListGroup from './common/listGroup';\nimport _ from 'lodash';\nimport {Link} from 'react-router-dom';\nimport SearchBox from './common/searchBox';\nimport { toast } from 'react-toastify';\n\nclass Movies extends Component {\n  state = {\n    movies: [],\n    pageSize: 4,\n    currentPage: 1,\n    genres: [],\n    sortColumn: { path: \"title\", order: \"asc\" },\n    searchQuery: \"\",\n    selectedGenre: null\n  };\n\n  async componentDidMount() {\n\t\tconst { data } = await getGenres();\n    const genres = [{ _id: \"\", name: \"All Genres\" }, ...data];\n\t\t\n\t\tconst {data: movies} = await getMovies();\n\t\t\n    this.setState({\n      movies,\n      genres\n\t\t});\n\t\t\n  }\n\n  handleRemove = async id => {\n\t\tconst originalMovies = this.state.movies;\n\t\tconsole.log(originalMovies, 'till removing');\n\t\tconst movies = this.state.movies.filter(movie => movie._id !== id);\n\n    this.setState({\n      movies\n\t\t});\n\t\t\n\t\ttry {\n\t\t\tawait deleteMovie(id);\n\t\t\tconsole.log(id, 'movie id');\n\t\t\tconsole.log(this.state.movies, 'after removing');\n\t\t} catch(ex) {\n\t\t\tif(ex.response && ex.response.status === 404) {\n\t\t\t\ttoast.error('This movie has been deleted');\n\t\t\t}\n\t\t\t\n\t\t\tthis.setState({\n\t\t\t\tmovies: originalMovies\n\t\t\t});\n\t\t}\n\t\t\n\t\t\n  };\n\n  handleLike = movie => {\n    const movies = [...this.state.movies];\n    const index = movies.indexOf(movie);\n    movies[index] = { ...movies[index] };\n    movies[index].like = !movies[index].like;\n\n    this.setState({\n      movies\n    });\n  };\n\n  handlePageChange = page => {\n    this.setState({\n      currentPage: page\n    });\n  };\n\n  handleGenresSelect = genre => {\n\t\tthis.setState({ selectedGenre: genre, currentPage: 1, searchQuery: \"\" });\n  };\n\n  handleSort = sortColumn => {\n    this.setState({ sortColumn, searchQuery: \"\" });\n  };\n\n  handleSearch = query => {\n    this.setState({\n      searchQuery: query,\n\t\t\tselectedGenre: null,\n\t\t\tcurrentPage: 1\n    });\n  };\n\n  getPagedMovies = () => {\n    const {\n      pageSize,\n      currentPage,\n      selectedGenre,\n      movies: allMovies,\n      sortColumn,\n      searchQuery\n    } = this.state;\n\n    let filtered = allMovies;\n    if (searchQuery) {\n      filtered = allMovies.filter(m =>\n        m.title.toLowerCase().includes(searchQuery.toLowerCase())\n      );\n\t\t} else if (selectedGenre && selectedGenre._id )\n      filtered = allMovies.filter(m => m.genre._id === selectedGenre._id);\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n    const movies = paginate(sorted, currentPage, pageSize);\n\n    return { totalCount: filtered.length, data: movies };\n  };\n\n  render() {\n    const { length: count } = this.state.movies;\n    const {\n      pageSize,\n      genres,\n      currentPage,\n      selectedGenre,\n      sortColumn,\n      searchQuery\n    } = this.state;\n\n    // if (count === 0) return <p>There are no movies in the database</p>;\n    const { totalCount, data: movies } = this.getPagedMovies();\n\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-3\">\n            <ListGroup\n              items={genres}\n              selectedItem={selectedGenre}\n              onItemSelect={this.handleGenresSelect}\n            />\n          </div>\n          <div className=\"col-9\">\n            <Link className=\"btn btn-primary mb-2\" to=\"/movie/new\">\n              New Movie\n            </Link>\n            <h3>There are {totalCount} movies in the database</h3>\n            <SearchBox value={searchQuery} onSearchChange={this.handleSearch} />\n            <MoviesTable\n              movies={movies}\n              onLike={this.handleLike}\n              onDelete={this.handleRemove}\n              sortColumn={sortColumn}\n              onSort={this.handleSort}\n            />\n            <Pagination\n              itemsCount={totalCount}\n              pageSize={pageSize}\n              onPageChange={this.handlePageChange}\n              currentPage={currentPage}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\nexport default Movies;","import _ from 'lodash';\n\nexport function paginate(items, pageNumber, pageSize) {\n\tconst startIndex = (pageNumber - 1) * pageSize;\n\treturn _(items).slice(startIndex).take(pageSize).value();\n}","import React, { Component } from 'react';\n\nclass Customers extends Component {\n\t\n\trender() { \n\t\treturn ( \n\t\t\t<h1>Customers</h1>\n\t\t );\n\t}\n}\n \nexport default Customers;","import React, { Component } from 'react';\n\nclass Rentals extends Component {\n\t\n\trender() { \n\t\treturn ( \n\t\t\t<h1>Rentals</h1>\n\t\t );\n\t}\n}\n \nexport default Rentals;","import React, { Component } from 'react';\nimport {NavLink, Link} from 'react-router-dom';\n\nclass NavBar extends Component {\n\t\n\trender() { \n\t\treturn ( \n\t\t\t<nav className=\"navbar navbar-expand-lg navbar-light bg-light mb-2\">\n\t\t\t\t<Link className=\"navbar-brand\" to=\"/\">Vidly</Link>\n\t\t\t\t<button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n\t\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\n\t\t\t\t</button>\n\t\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n\t\t\t\t\t\t<ul className=\"navbar-nav\">\n\t\t\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t\t\t\t<NavLink className=\"nav-link\" to=\"/movies\">Movies <span className=\"sr-only\">(current)</span></NavLink>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t\t\t\t<NavLink className=\"nav-link\" to=\"/customers\">Customers</NavLink>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t\t\t\t<NavLink className=\"nav-link\" to=\"/rentals\">Rentals</NavLink>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t\t\t\t<NavLink className=\"nav-link\" to=\"/login\">Login</NavLink>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t\t\t\t<NavLink className=\"nav-link\" to=\"/register\">Register</NavLink>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t\t\t\t<NavLink className=\"nav-link\" to=\"/new-movie\">New Movie</NavLink>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</nav>\n\t\t );\n\t}\n}\n \nexport default NavBar;","import React, { Component } from 'react';\n\nclass NotFound extends Component {\n\trender() { \n\t\treturn ( <h1>Not Found</h1> );\n\t}\n}\n \nexport default NotFound;","import React from \"react\";\n\n// const Input = ({ name, label, value, onChange, type, error  }) => {\nconst Input = ({ name, label, error, ...rest  }) => {\n\t\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={name}>{ label }</label>\n      <input\n\t\t\t\t{...rest}\n        name={name}\n        id={name}\n        className=\"form-control\"\n      />\n\t\t\t{error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Input;\n","import React from \"react\";\n\n\n// const Input = ({ name, label, value, onChange, type, error  }) => {\nconst Select = ({ name, label, error,options, ...rest  }) => {\n\t\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={name}>{label}</label>\n\t\t\t<select id={name} name={name} {...rest} className=\"form-control\">\n        {options.map(option => (\n          <option key={option._id} value={option._id}>\n            {option.name}\n          </option>\n        ))}\n      </select>\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Select;\n","import React, { Component } from 'react';\nimport Joi from 'joi-browser';\nimport Input from './input';\nimport Select from './select';\n\nclass Form extends Component {\n\tstate = {\n\t\tdata: {},\n\t\terrors: {}\n\t}\n\t\n\tvalidate = () => {\n\t\t\tconst options = { abortEarly: false };\n\t\t\tconst { error } = Joi.validate(this.state.data, this.schema, options);\n\n\t\t\tif (!error) return null;\n\n\t\t\tconst errors = {};\n\n\t\t\tfor (let item of error.details) {\n\t\t\t\t\terrors[item.path[0]] = item.message;\n\t\t\t}\n\n\t\t\treturn errors;\n\n\t\t\t//Manual validating\n\t\t\t// const errors = {};\n\t\t\t// const { data } = this.state;\n\n\t\t\t// if(data.username.trim() === '')\n\t\t\t// \terrors.username = 'Username is required'\n\t\t\t// if(data.password.trim() === '')\n\t\t\t// \terrors.password = 'Password is required'\n\n\t\t\t// return Object.keys(errors).length === 0 ? null : errors;\n\t};\n\n\tvalidateProperty = ({ name, value }) => {\n\n\t\tconst obj = {[name]: value};\n\t\tconst schema = {[name]: this.schema[name]};\n\t\tconst { error } = Joi.validate(obj, schema);\n\t\treturn error ? error.details[0].message : null;\n\n\t\t\t// if (name === \"username\")\n\t\t\t//   if (value.trim() === \"\") return \"Username is required\";\n\t\t\t// if (name === \"password\")\n\t\t\t//   if (value.trim() === \"\") return \"Password is required\";\n\t};\n\t\n\thandleSubmit = e => {\n\t\te.preventDefault();\n\t\tconst errors = this.validate();\n\t\tthis.setState({ errors: errors || {} });\n\t\tif (errors) return;\n\n\t\t//Call the server\n\t\tthis.doSubmit();\n\t};\n\t\n\thandleChange = ({ currentTarget: input }) => {\n\t\tconst errors = { ...this.state.errors };\n\t\tconst errorMessage = this.validateProperty(input);\n\t\t\n\t\tif (errorMessage) errors[input.name] = errorMessage;\n\t\telse delete errors[input.name];\n\n\t\tconst data = { ...this.state.data };\n\t\tdata[input.name] = input.value;\n\n\t\tthis.setState({ data, errors });\n\t};\n\t\n\trenderButton(label) {\n\t\treturn (\n      <button className=\"btn btn-primary\" disabled={this.validate()}>\n        {label}\n      </button>\n    );\n\t}\n\t\n\trenderInput(name, label, type='text') {\n\t\tconst { data, errors } = this.state;\n\t\treturn (\n\t\t\t<Input\n\t\t\t\t\ttype={type}\n\t\t\t\t\tvalue={data[name]}\n\t\t\t\t\terror={errors[name]}\n\t\t\t\t\tname={name}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t/>\n\t\t);\n\t}\n\t\n\trenderSelect(name, label, options) {\n\t\tconst { data, errors } = this.state;\n\t\t\n\t\treturn (\n\t\t\t<Select\n\t\t\t\tvalue={data[name]}\n\t\t\t\terror={errors[name]}\n\t\t\t\tname={name}\n\t\t\t\tonChange={this.handleChange}\n\t\t\t\tlabel={label}\n\t\t\t\toptions={options}\n\t\t\t/>\n\t\t);\n\t\t\n\t}\n\t\n}\n \nexport default Form;","import React from \"react\";\nimport Joi from 'joi-browser';\nimport Form from './common/forms'\n\nclass LoginForm extends Form {\n  state = {\n    data: { username: \"\", password: \"\" },\n    errors: {}\n  };\n\n  schema = {\n    username: Joi.string()\n      .required()\n      .label(\"Username\"),\n    password: Joi.string()\n      .required()\n      .label(\"Password\")\n  };\n\n   doSubmit = () => {\n\t\t//Call the server\n\t\tconsole.log('Submitted');\n\t}\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput('username', 'Username')}\n\t\t\t\t\t{this.renderInput('password', 'Password', 'password')}\n          {this.renderButton(\"Login\")}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n","import React from \"react\";\nimport Joi from 'joi-browser';\nimport Form from './common/forms'\n\nclass RegisterForm extends Form {\n  state = {\n    data: { username: \"\", password: \"\", name: \"\" },\n    errors: {}\n  };\n\n  schema = {\n    username: Joi.string()\n      .required().email()\n      .label(\"Username\"),\n    name: Joi.string()\n      .required()\n      .label(\"Name\"),\n    password: Joi.string().min(5)\n      .required()\n      .label(\"Password\")\n  };\n\n   doSubmit = () => {\n\t\t//Call the server\n\t\tconsole.log('Submitted');\n\t}\n\n  render() {\n    return (\n      <div>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput('username', 'Username')}\n\t\t\t\t\t{this.renderInput('password', 'Password', 'password')}\n\t\t\t\t\t{this.renderInput('name', 'Name')}\n          {this.renderButton(\"Register\")}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default RegisterForm;\n","import React from \"react\";\nimport Joi from 'joi-browser';\nimport Form from './common/forms'\nimport { getGenres } from '../services/genreService';\nimport { getMovie, saveMovie } from '../services/movieService';\n\nclass MovieForm extends Form {\n  state = {\n    data: {\n      title: \"\",\n      genreId: \"\",\n      numberInStock: \"\",\n      dailyRentalRate: \"\"\n    },\n    genres: [],\n    errors: {}\n  };\n\n  schema = {\n    _id: Joi.string(),\n    title: Joi.string()\n      .required()\n      .label(\"Title\"),\n    genreId: Joi.string()\n      .required()\n      .label(\"Genre\"),\n    numberInStock: Joi.number()\n      .min(0)\n      .max(100)\n      .required()\n      .label(\"Number in Stock\"),\n\t\tdailyRentalRate: Joi.number()\n      .min(0)\n      .max(10)\n      .required()\n      .label(\"Daily Rental Rate\")\n\t};\n\t\n\tasync populateGenres() {\n\t\tconst { data: genres} = await getGenres();\n\t\tthis.setState({ genres });\n\t}\n\t\n\tasync populateMovie() {\n\t\ttry {\n\t\t\tconst movieId = this.props.match.params.id;\n\t\t\tif (movieId === \"new\") return null;\n\t\t\t\n\t\t\tconst {data: movie} = await getMovie(movieId);\n\t\t\tthis.setState({ data: this.mapToViewModel(movie) });\n\t\t} catch(ex) {\n\t\t\tif(ex.response && ex.response.status === 404)\n\t\t\t\tthis.props.history.replace(\"/not-found\");\n\t\t}\n\t}\n\t\n  async componentDidMount() {\n\t\t\tawait this.populateGenres()\n\t\t\tawait this.populateMovie()\n  }\n\n  mapToViewModel(movie) {\n    return {\n      _id: movie._id,\n      title: movie.title,\n      genreId: movie.genre._id,\n      numberInStock: movie.numberInStock,\n      dailyRentalRate: movie.dailyRentalRate\n    };\n  }\n\n  doSubmit = async () => {\n    await saveMovie(this.state.data);\n\n    this.props.history.push(\"/movies\");\n  };\n\n  render() {\n\t\t// console.log(this.state.genres);\n    return (\n      <div>\n        <h1>Movie Form</h1>\n        <form onSubmit={this.handleSubmit}>\n          {this.renderInput(\"title\", \"Title\")}\n          {this.renderSelect(\"genreId\", \"Genre\", this.state.genres)}\n          {this.renderInput(\"numberInStock\", \"Number in Stock\", \"number\")}\n          {this.renderInput(\"dailyRentalRate\", \"Rate\")}\n          {this.renderButton(\"Register\")}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default MovieForm;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"font-awesome/css/font-awesome.min.css\";\nimport Movies from \"./components/movies\";\nimport Customers from \"./components/customers\";\nimport Rentals from \"./components/rentals\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport NavBar from \"./components/navbar\";\n// import MovieDetails from \"./components/movieDetails\";\nimport NotFound from \"./components/404\";\nimport LoginForm from \"./components/loginForm\";\nimport RegisterForm from \"./components/registerForm\";\nimport MovieForm from \"./components/movieForm\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass App extends Component {\n  render() {\n    return (\n      <React.Fragment>\n        <ToastContainer />\n        <NavBar />\n        <main className=\"container\">\n          <Switch>\n            <Route path=\"/register\" component={RegisterForm} />\n            <Route path=\"/login\" component={LoginForm} />\n            <Route path=\"/movie/:id\" component={MovieForm} />\n            <Route path=\"/movies\" component={Movies} />\n            <Route path=\"/customers\" component={Customers} />\n            <Route path=\"/rentals\" component={Rentals} />\n            <Route path=\"/not-found\" component={NotFound} />\n            <Redirect from=\"/\" to=\"/movies\" exact />\n            <Redirect to=\"/not-found\" />\n          </Switch>\n        </main>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}